atom : <QuotedStr>  { Terminal(eval(*$0), True) }
     | <Term>       { Terminal(*$0, False) }
     | <Ident>      { NonTerminal(*$0) }
     | '(' alt ')' { $1 }
     | '[' alt ']' { Optional($1) }
     | '0'         { Eps() }
     | '...'       { Skip() }
     ;
seq  : list(atom)  { seq($0) };
alt  : separated_list('|', seq) { alt($0) };
eq   : ':' | '::=' ;
prod : <Ident> eq ['|'] alt=alt ';' { Prod(*$0, alt) };


prods : list(prod) { $0 };

START : <BOF> prods <EOF> { $1 };